From 6e9b4584bc513903b6a756b957344e19a19a76c6 Mon Sep 17 00:00:00 2001
From: Viktor Hofer <viktor.hofer@microsoft.com>
Date: Thu, 19 Dec 2024 15:02:31 +0100
Subject: [PATCH] Don't introduce prebuilts for 8.0.10 packs when building
 source only

Backport: https://github.com/dotnet/roslyn/pull/76517

---
 eng/Directory.Packages.props | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/eng/Directory.Packages.props b/eng/Directory.Packages.props
index 7114e22690f..14c8a39c81b 100644
--- a/eng/Directory.Packages.props
+++ b/eng/Directory.Packages.props
@@ -18,8 +18,8 @@
 
       We should try to keep this version in sync with the version of app-local runtime in VS.
     -->
-    <MicrosoftNetCoreAppRuntimePackagesVersion>8.0.10</MicrosoftNetCoreAppRuntimePackagesVersion>
-    <MicrosoftWindowsDesktopAppRuntimePackagesVersion>8.0.10</MicrosoftWindowsDesktopAppRuntimePackagesVersion>
+    <MicrosoftNetCoreAppRuntimePackagesVersion Condition="'$(DotNetBuildSourceOnly)' != 'true'">8.0.10</MicrosoftNetCoreAppRuntimePackagesVersion>
+    <MicrosoftWindowsDesktopAppRuntimePackagesVersion Condition="'$(DotNetBuildSourceOnly)' != 'true'">8.0.10</MicrosoftWindowsDesktopAppRuntimePackagesVersion>
     <_xunitVersion>2.9.2</_xunitVersion>
     <SqliteVersion>2.1.0</SqliteVersion>
   </PropertyGroup>